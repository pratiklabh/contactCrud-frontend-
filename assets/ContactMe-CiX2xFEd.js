import{d as E,r as v,w as d,o as i,c as n,a as t,b as l,u as m,s as g,t as u,e as p,f as M,v as q,g as V,h as y,i as j,j as x,k as N,_ as S}from"./index-DkiEf_42.js";import{a as $}from"./axios-CCb-kr4I.js";import{c as T,a as f,V as w}from"./index.esm-dMrDDtoG.js";import"./_commonjsHelpers-BosuxZz1.js";const U={class:"contact-me"},Y={class:"form-group"},A={key:0,class:"error"},B={class:"form-group"},D={key:0,class:"error"},F={class:"form-group"},I={key:0,class:"error"},R={class:"form-group"},z={key:0,class:"error"},L=E({__name:"ContactMe",setup(O){const a=v({name:"",email:"",subject:"",message:""}),s=v({name:"",email:"",subject:"",message:""}),b=T().shape({name:f().min("2").required("Name is required").matches(/^[A-Za-z\s]+$/,"Name can only contain letters and spaces"),email:f().email("Invalid email format").required("Email is required"),subject:f().required("Subject is required"),message:f().required("Message is required")}),c=async o=>{try{await b.validateAt(o,a),s[o]=""}catch(e){e instanceof w&&(s[o]=e.message)}};d(()=>a.name,()=>c("name")),d(()=>a.email,()=>c("email")),d(()=>a.subject,()=>c("subject")),d(()=>a.message,()=>c("message"));const h=async()=>{try{return Object.keys(s).forEach(o=>s[o]=""),await b.validate(a,{abortEarly:!1}),!0}catch(o){return o instanceof w&&o.inner.forEach(e=>{s[e.path]=e.message}),!1}},_=async()=>{if(await h())try{const e=await $.post("/api/contacts",a);console.log("Response:",e.data),alert(`Thank you, ${a.name}! Your message has been sent.`),a.name="",a.email="",a.subject="",a.message=""}catch(e){console.error("Error sending message:",e),alert("An error occurred while sending your message. Please try again.")}},k=N(),C=()=>{k.push({name:"contactList"})};return(o,e)=>(i(),n("section",U,[e[10]||(e[10]=t("h2",null,"Contact Me",-1)),t("form",{class:"contact-form",onSubmit:x(_,["prevent"])},[t("div",Y,[e[4]||(e[4]=t("label",{for:"name"},"Name",-1)),l(m(g),{id:"name",modelValue:a.name,"onUpdate:modelValue":e[0]||(e[0]=r=>a.name=r),placeholder:"Your Name"},null,8,["modelValue"]),s.name?(i(),n("div",A,u(s.name),1)):p("",!0)]),t("div",B,[e[5]||(e[5]=t("label",{for:"email"},"Email",-1)),l(m(g),{id:"email",modelValue:a.email,"onUpdate:modelValue":e[1]||(e[1]=r=>a.email=r),placeholder:"Your Email",type:"email"},null,8,["modelValue"]),s.email?(i(),n("div",D,u(s.email),1)):p("",!0)]),t("div",F,[e[6]||(e[6]=t("label",{for:"subject"},"Subject",-1)),l(m(g),{id:"subject",modelValue:a.subject,"onUpdate:modelValue":e[2]||(e[2]=r=>a.subject=r),placeholder:"Subject"},null,8,["modelValue"]),s.subject?(i(),n("div",I,u(s.subject),1)):p("",!0)]),t("div",R,[e[7]||(e[7]=t("label",{for:"message"},"Message",-1)),M(t("textarea",{id:"message","onUpdate:modelValue":e[3]||(e[3]=r=>a.message=r),placeholder:"Your Message",rows:"5"},null,512),[[q,a.message]]),s.message?(i(),n("div",z,u(s.message),1)):p("",!0)]),l(m(j),{type:"submit",class:"view-contact-button"},{default:V(()=>e[8]||(e[8]=[y(" Send Message ")])),_:1})],32),l(m(j),{onClick:C,class:"view-contact-button"},{default:V(()=>e[9]||(e[9]=[y(" View Contact ")])),_:1})]))}}),J=S(L,[["__scopeId","data-v-27119e0c"]]);export{J as default};
