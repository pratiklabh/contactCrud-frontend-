import{_ as v,x as n,y as _,r as M,l as y,c as S,a as l,b as r,g as u,u as s,o as b,F as d,s as N,z as p,E as f,B as q,e as x,i as w,h as k,A as B}from"./index-DkiEf_42.js";import{r as C,m as E}from"./vee-validate-rules.esm-BzTVDerd.js";import{a as F}from"./axios-CCb-kr4I.js";const D={class:"custom-form"},I={class:"form-group"},P={class:"form-group"},T={key:0,class:"form-group"},U={__name:"CustomValidation",setup($){n("required",C),n("min",E),n("required_if",(m,[e,o],t)=>t.form[e]===o?!!m||"This field is required when married.":!0),_({validateOnInput:!0});const a=M({name:"",maritalStatus:"",spouseName:""}),V=y([{label:"Single",value:"Single"},{label:"Married",value:"Married"},{label:"Divorced",value:"Divorced"},{label:"Widowed",value:"Widowed"}]),g=async m=>{const e={name:a.name,maritalStatus:a.maritalStatus};a.maritalStatus==="Married"&&a.spouseName&&(e.spouseName=a.spouseName);try{const o=await F.post("/api/users",e);console.log("Response:",o.data),alert(`Thank you, ${m.name}! Your information has been submitted.`),a.name="",a.maritalStatus="",a.spouseName=""}catch(o){console.error("Error submitting form:",o),alert("An error occurred while submitting your information. Please try again.")}};return(m,e)=>(b(),S("section",D,[e[7]||(e[7]=l("h2",null,"Personal Information Form",-1)),r(s(B),{onSubmit:g,class:"info-form"},{default:u(({errors:o})=>[l("div",I,[e[3]||(e[3]=l("label",{for:"name"},"Name",-1)),r(s(d),{name:"name",rules:"required|min:2"},{default:u(({field:t,errorMessage:c})=>[r(s(N),p({id:"name"},t,{modelValue:a.name,"onUpdate:modelValue":e[0]||(e[0]=i=>a.name=i),placeholder:"Your Name"}),null,16,["modelValue"]),r(s(f),{name:"name",class:"error"})]),_:1})]),l("div",P,[e[4]||(e[4]=l("label",{for:"maritalStatus"},"Marital Status",-1)),r(s(d),{name:"maritalStatus",rules:"required"},{default:u(({field:t,errorMessage:c})=>[r(s(q),p({id:"maritalStatus"},t,{modelValue:a.maritalStatus,"onUpdate:modelValue":e[1]||(e[1]=i=>a.maritalStatus=i),options:V.value,optionLabel:"label",optionValue:"value",placeholder:"Select Marital Status"}),null,16,["modelValue","options"]),r(s(f),{name:"maritalStatus",class:"error"})]),_:1})]),a.maritalStatus==="Married"?(b(),S("div",T,[e[5]||(e[5]=l("label",{for:"spouseName"},"Spouse Name",-1)),r(s(d),{name:"spouseName",rules:"required_if:maritalStatus,Married"},{default:u(({field:t,errorMessage:c})=>[r(s(N),p({id:"spouseName"},t,{modelValue:a.spouseName,"onUpdate:modelValue":e[2]||(e[2]=i=>a.spouseName=i),placeholder:"Spouse Name"}),null,16,["modelValue"]),r(s(f),{name:"spouseName",class:"error"})]),_:1})])):x("",!0),r(s(w),{type:"submit",class:"submit-button"},{default:u(()=>e[6]||(e[6]=[k(" Submit ")])),_:1})]),_:1})]))}},R=v(U,[["__scopeId","data-v-05ca7a1f"]]);export{R as default};
