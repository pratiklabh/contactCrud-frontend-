import{a as g}from"./axios-CCb-kr4I.js";import{_ as w,l as r,m as M,c as z,a as m,b as h,g as x,u as p,D as F,o as L,B as N,A as b}from"./index-DkiEf_42.js";const V={class:"card flex justify-center"},A={class:"dropdown-container"},B={__name:"LazyProject",setup(S){const d=r(null),l=r([]),v=r(0),e=r(0),c=r(""),i=async(o,t,a="")=>{let s=!1;try{s=!0,console.log("filter =",a),console.log(`/month/lazy?first=${o}&rows=${t-o}&filters[monthName.name][value]=${a}&filters[monthName.name][matchMode]=contains`);const n=(await g.get(`/month/lazy?first=${o}&rows=${t-o}&filters[monthName.name][value]=${a}&filters[monthName.name][matchMode]=contains`)).data;if(n.success===!0&&Array.isArray(n.result)){const $=n.result.map(u=>({label:`${u.id} - ${u.monthName.name}-${u.endDate}`,value:u.id}));v.value=n.totalCount,l.value=[...l.value,...$],e.value=t}else console.error("Unexpected API response:",n)}catch(f){console.error("Error fetching months:",f)}finally{s=!1}},y=o=>{const{first:t,last:a}=o;if(a>=l.value.length&&l.value.length<v.value){const s=e.value+20;console.log(`Fetching months from ${e.value} to ${s}`),i(e.value,s,c.value)}},_=o=>{c.value=o.value,e.value=0,l.value=[],console.log(`Fetching filtered months from ${e.value} to ${e.value+20}, filter = ${c.value}`),i(e.value,e.value+20,c.value)};return M(()=>{i(0,20)}),(o,t)=>(L(),z(F,null,[t[1]||(t[1]=m("h2",null,"Month Dropdown",-1)),h(p(b),null,{default:x(()=>[m("div",V,[m("div",A,[h(p(N),{modelValue:d.value,"onUpdate:modelValue":t[0]||(t[0]=a=>d.value=a),options:l.value,filter:"",optionLabel:"label",placeholder:"Select a Month",class:"w-full md:w-56",virtualScrollerOptions:{lazy:!0,itemSize:50,delay:20,onLazyLoad:y},onFilter:_},null,8,["modelValue","options","virtualScrollerOptions"])])])]),_:1})],64))}},P=w(B,[["__scopeId","data-v-c369bbc0"]]);export{P as default};
