import{a as g}from"./axios-CCb-kr4I.js";import{_ as y,l as n,c as z,a as c,b as d,g as h,u as p,D as L,o as w,B as x,A as C}from"./index-DkiEf_42.js";const V={class:"card flex justify-center"},$={class:"dropdown-container"},f=20,b={__name:"Lazy",setup(A){const u=n(null),a=n([]),r=n(0),m=n(100),v=async(o,e)=>{try{console.log(o,e,r.value,f);const s=(await g.get(`/api/contacts?page=${r.value}&size=${f}`)).data;if(console.log("size",s.result.length),s.success==="true"&&Array.isArray(s.result)){const i=s.result.map(l=>({label:`${l.id} - ${l.name} - ${l.email}`,value:l.id}));i.length>0&&(a.value=[...a.value,...i],r.value++)}else console.error("Unexpected API response:",s)}catch(t){console.error("Error fetching contacts:",t)}},_=o=>{const{first:e,last:t}=o;t>=a.value.length-1&&a.value.length<m.value&&(console.log("last",t),v(e,t))};return(o,e)=>(w(),z(L,null,[e[1]||(e[1]=c("h2",null,"Lazy dropdown test",-1)),d(p(C),null,{default:h(()=>[c("div",V,[c("div",$,[d(p(x),{modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=t=>u.value=t),options:a.value,optionLabel:"label",placeholder:"Select a Contact",class:"w-full md:w-56",virtualScrollerOptions:{lazy:!0,onLazyLoad:_,itemSize:50,delay:20,steps:10}},null,8,["modelValue","options","virtualScrollerOptions"])])])]),_:1})],64))}},k=y(b,[["__scopeId","data-v-8c9622d2"]]);export{k as default};
