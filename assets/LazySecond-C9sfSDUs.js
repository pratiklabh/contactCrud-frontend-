import{a as y}from"./axios-CCb-kr4I.js";import{_ as g,l,c as h,a as u,b as d,g as L,u as p,D as w,o as x,B as z,A as $}from"./index-DkiEf_42.js";const C={class:"card flex justify-center"},S={class:"dropdown-container"},b={__name:"LazySecond",setup(V){const i=l(null),o=l([]),f=l(94),n=l(0),c=l(!1),v=async(s,e)=>{try{c.value=!0,console.log(s,e);const a=(await y.get(`/api/contacts?start=${s}&end=${e}`)).data;if(a.success==="true"&&Array.isArray(a.result)){const _=a.result.map(r=>({label:`${r.id} - ${r.name} - ${r.email}`,value:r.id}));o.value=[...o.value,..._],n.value=e}else console.error("Unexpected API response:",a)}catch(t){console.error("Error fetching contacts:",t)}finally{c.value=!1}},m=s=>{const{first:e,last:t}=s;if(!c.value&&t>=o.value.length&&o.value.length<f.value){let a=n.value+20;console.log(`Fetching contacts from ${n.value} to ${a}`),v(n.value,a)}};return(s,e)=>(x(),h(w,null,[e[1]||(e[1]=u("h2",null,"Lazy dropdown test",-1)),d(p($),null,{default:L(()=>[u("div",C,[u("div",S,[d(p(z),{modelValue:i.value,"onUpdate:modelValue":e[0]||(e[0]=t=>i.value=t),options:o.value,optionLabel:"label",placeholder:"Select a Contact",class:"w-full md:w-56",virtualScrollerOptions:{lazy:!0,itemSize:50,delay:20,onLazyLoad:m}},null,8,["modelValue","options","virtualScrollerOptions"])])])]),_:1})],64))}},F=g(b,[["__scopeId","data-v-c77bf424"]]);export{F as default};
